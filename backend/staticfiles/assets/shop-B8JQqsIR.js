import{r,a as h,u as m,j as e,i as p}from"./index-CYbfX4g-.js";const j=()=>{const[c,o]=r.useState([]),[i,n]=r.useState(null),[d]=r.useState(new Set),l=h(),{addItem:u}=m();return r.useEffect(()=>{(async()=>{try{const t=await p.get("/products/list/");o(t.data.map(a=>({...a,price:Number(a.price),quantity:Number(a.quantity)})))}catch(t){console.error("Failed to load products:",t),n("Failed to load products. Please try again later.")}})()},[]),e.jsx("div",{className:"shop",children:e.jsxs("div",{className:"container",children:[i&&e.jsx("div",{className:"error-banner",children:i}),e.jsxs("div",{className:"shop-hero",children:[e.jsx("h1",{className:"shop-title",children:"All Products"}),e.jsx("p",{className:"shop-subtitle",children:"We'd love to hear from you! Whether you have a question about features, pricing, or anything else, our team is ready to help."})]}),e.jsx("div",{className:"product-grid",children:c.map(s=>{const t=d.has(s.id),a=s.stock===0;return e.jsxs("article",{className:"product-card",children:[e.jsx("img",{src:s.image,alt:s.name}),e.jsx("h3",{children:s.name}),e.jsx("div",{className:"product-details",children:e.jsxs("p",{className:"price",children:["$",s.price.toFixed(2)]})}),e.jsx("button",{className:"addCart",onClick:()=>u(s),disabled:t||a,type:"button",children:t?"Adding...":a?"Out of Stock":"Add to Cart"}),e.jsx("button",{className:"viewCart",onClick:()=>l(`/product/${s.id}`),type:"button",children:"View Product"})]},s.id)})})]})})};export{j as default};
