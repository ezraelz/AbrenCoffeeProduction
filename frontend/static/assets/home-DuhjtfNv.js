import{r,u as x,a as j,j as e,i as p,y as f,F as v,L as N}from"./index-CqnK1jY6.js";import{F as b,a as C}from"./index-EUeODHB9.js";import{O as w,H as y}from"./ourstory-CU2escfJ.js";const S=()=>{const[n,c]=r.useState([]),{addItem:i}=x(),o=j(),[a,t]=r.useState(!1),l=r.useRef(0),m=3,u=()=>{const s=window.scrollY;s>l.current?t(!0):t(!1),l.current=s};return r.useEffect(()=>(window.addEventListener("scroll",u),()=>window.removeEventListener("scroll",u)),[]),r.useEffect(()=>{(async()=>{try{const d=await p.get("/products/list/");c(d.data.slice(0,m))}catch{f.error("Failed to load products. Please try again later.")}})()},[]),e.jsxs("div",{className:"trending-products",children:[e.jsx("h1",{children:"Trending Products"}),n.length>0?e.jsx("div",{className:"product_container",children:n.map((s,d)=>e.jsxs("div",{className:a?"product_card anime":"product_card",children:[e.jsx("img",{src:s.image,alt:""}),e.jsxs("div",{className:"description",children:[e.jsx("p",{children:s.name}),e.jsxs("p",{children:["$",s.price]})]}),e.jsxs("div",{className:"button-group",children:[e.jsx("button",{className:"addCart",onClick:()=>i(s),type:"button",children:"Add to Cart"}),e.jsx("button",{className:"viewCart",onClick:()=>o(`/product/${s.id}`),type:"button",children:"View Product"})]})]},d))}):e.jsx(e.Fragment,{children:e.jsx("p",{className:"loading-products",children:"Loading products...."})})]})},I=()=>{const[n,c]=r.useState([]),[i,o]=r.useState(0),a=3;r.useEffect(()=>{(async()=>{try{const d=await p.get("/blog/list/");c(d.data)}catch(d){console.error("Error fetching blogs:",d)}})()},[]);const t=Math.ceil(n.length/a);r.useEffect(()=>{if(n.length===0)return;const s=setInterval(()=>{o(d=>(d+1)%t)},5e3);return()=>clearInterval(s)},[n.length,t]);const l=()=>{o(s=>(s+1)%t)},m=()=>{o(s=>(s-1+t)%t)},u=n.slice(i*a,(i+1)*a);return e.jsx("div",{className:"home-blog",children:e.jsxs("div",{className:"container",children:[e.jsx("h2",{className:"section-title",children:"Latest from the Blog"}),e.jsx("p",{className:"section-description",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat ccusantium, unde sunt fugit quaerat cupiditate nesciunt recusandae sapiente?"}),e.jsx("div",{className:"home-blog-cards",children:n.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",title:"prev",onClick:m,className:"arrow",disabled:n.length===0,children:e.jsx(b,{})}),u.map(s=>e.jsx("div",{className:"home-blog-card",children:e.jsxs("div",{className:"card-content",children:[e.jsx("img",{src:`http://127.0.0.1:8000/${s.image}`,alt:s.title}),e.jsx("h3",{children:s.title}),e.jsxs("p",{className:"meta",children:["By ",s.author_username," Â·"," ",new Date(s.created_at).toLocaleDateString()]}),e.jsxs("p",{children:[s.content.slice(0,600),"..."]})]})},s.id)),e.jsx("button",{type:"button",title:"next",onClick:l,className:"arrow",disabled:n.length===0,children:e.jsx(C,{})})]})})]})})},E="/assets/person_2-BOsjfWUh.jpg",L="/assets/person_3-CI-003NU.jpg",_="/assets/person_4-CFJh5yzE.jpg",h=[{quote:"Great service!",name:"Alice",position:"Designer",image:E},{quote:"Loved the experience.",name:"Bob",position:"Developer",image:L},{quote:"Highly recommended!",name:"Charlie",position:"Marketer",image:_}],P=()=>{const[n,c]=r.useState(0);r.useEffect(()=>{const a=setInterval(()=>{c(t=>(t+1)%h.length)},8e3);return()=>clearInterval(a)},[]);const i=(n-1+h.length)%h.length,o=(n+1)%h.length;return e.jsxs("div",{className:"slider",children:[e.jsx("h1",{children:"Testimony"}),h.map((a,t)=>{let l="card";return t===n?l+=" active":t===i?l+=" prev":t===o?l+=" next":l+=" hidden",e.jsxs("div",{className:l,children:[e.jsx("img",{src:a.image,alt:a.name}),e.jsxs("div",{className:"text",children:[e.jsx("h3",{children:a.name}),e.jsx("p",{children:a.position}),e.jsx("q",{children:a.quote})]})]},t)})]})},k="/assets/bg_1-ExwbCvXU.jpg",B="/assets/bg_2-DRRVo1UI.jpg",D="/assets/bg_3-CLXpHu8m.jpg",g=({iconClass:n,target:c,label:i})=>{const[o,a]=r.useState(0);return r.useEffect(()=>{let t=0;const m=c/(2e3/50),u=setInterval(()=>{t+=m,t>=c?(clearInterval(u),a(c)):a(Math.ceil(t))},50);return()=>clearInterval(u)},[c]),e.jsx("div",{className:"counter-wrap",children:e.jsxs("div",{className:"text",children:[e.jsx("div",{className:"icon",children:e.jsx("span",{className:n,children:e.jsx(v,{})})}),e.jsx("strong",{className:"number",children:o}),e.jsx("span",{children:i})]})})};function F(){return e.jsxs("section",{className:"ftco-counter",id:"section-counter",children:[e.jsx("div",{className:"overlay"}),e.jsx("div",{className:"container",children:e.jsxs("div",{className:"row",children:[e.jsx(g,{iconClass:"flaticon-coffee-cup",target:100,label:"Coffee Branches"}),e.jsx(g,{iconClass:"flaticon-coffee-cup",target:85,label:"Number of Awards"}),e.jsx(g,{iconClass:"flaticon-coffee-cup",target:10567,label:"Happy Customers"}),e.jsx(g,{iconClass:"flaticon-coffee-cup",target:900,label:"Staff"})]})})]})}const q=()=>{const[n,c]=r.useState(0),i=[{img:k,alt:""},{img:B,alt:""},{img:D,alt:""}];return r.useEffect(()=>{const o=setInterval(()=>{c(a=>(a+1)%i.length)},3e3);return()=>clearInterval(o)},[]),e.jsxs("div",{className:"home-section",children:[e.jsxs("div",{className:"home-content",style:{backgroundImage:`url(${i[n].img})`,backgroundSize:"cover",backgroundPosition:"center",transition:"background-image 1s ease-in-out"},children:[e.jsx("span",{className:"mb-4",children:"Abren Coffee"}),e.jsx("p",{className:"mb-4 mb-md-5",children:"A small river named Duden flows by their place and supplies it with the necessary regelialia."}),e.jsx(N,{to:"/shop",className:"shop-button",children:"Shop Now"})]}),e.jsx(S,{}),e.jsx(F,{}),e.jsx(w,{}),e.jsx(I,{}),e.jsx(P,{}),e.jsx(y,{})]})};export{q as default};
